<%= ERB.new(File.read("#{ENV['APP_APP_DIR']}/config/src/logstash-common-filters.conf.erb")).result(binding) %>

input {
    stdin {
        type => "<%= @args[:logstash_type] %>"
    }
}

output {
    #stdout { debug => true debug_format => "json"}
    elasticsearch_http {
        # https://logstash.jira.com/browse/LOGSTASH-679
        # currently events are ignored if exiting when the buffer is not full; supposedly almost fixed?
        flush_size => 1
    }
}
